To correctly compile the LaTeX document with citations, follow these steps:

1. Run pdflatex on main.tex:
   pdflatex main.tex

2. Run bibtex on the aux file:
   bibtex main

3. Run pdflatex twice more to resolve citations:
   pdflatex main.tex
   pdflatex main.tex

This sequence ensures that:
- First pdflatex creates the aux file with citation references
- Bibtex processes the bibliography data from the .bib files
- The next pdflatex run incorporates the bibliography information
- The final pdflatex run resolves all references

If you're still seeing "??" instead of proper citations:
1. Make sure all .bib files are in the correct directory (tex/ref/)
2. Check that citation keys in the text match exactly the keys in the .bib files
3. Verify that no Unicode characters are present in the .bib files
